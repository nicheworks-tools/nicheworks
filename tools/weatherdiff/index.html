<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>WeatherDiff | 天気予報のズレ比較ツール | NicheWorks</title>
  <meta name="description" content="Open-Meteo と MET Norway の予報を比較して、気温・降水・風のズレを可視化するツールです。">

  <link rel="canonical" href="https://nicheworks.pages.dev/tools/weatherdiff/">
  <link rel="stylesheet" href="style.css">

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9879006623791275" crossorigin="anonymous"></script>

  <!-- Cloudflare Analytics -->
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "aeec938336694c99bc864cdf859b5e37"}'></script>
</head>

<body>

<header class="wd-header">
  <div class="wd-header-inner">
    <div class="wd-header-left">
      <h1 class="wd-title">WeatherDiff</h1>
      <p class="wd-subtitle" id="subtitle">天気予報のズレ比較ツール</p>
    </div>

    <div class="wd-lang-switch">
      <button id="langJP" class="wd-lang-btn is-active">JP</button>
      <button id="langEN" class="wd-lang-btn">EN</button>
    </div>
  </div>
</header>

<main class="wd-main">

  <section class="wd-section wd-input-section">

    <label for="locationInput" class="wd-label" id="labelLocation">
      地点を入力
    </label>

    <div class="wd-input-wrap">
      <input
        id="locationInput"
        type="text"
        placeholder="千葉市 / Shibuya / New York"
        autocomplete="off"
      />
      <button id="btnCompare" class="wd-btn primary">比較</button>
      <button id="btnGeo" class="wd-btn ghost">現在地</button>
    </div>

    <p id="errorText" class="wd-error"></p>

    <div id="progressArea" class="wd-progress hidden">
      <div class="wd-progress-bar"></div>
      <p id="progressText" class="wd-progress-text">処理中...</p>
    </div>

  </section>

  <section id="resultSection" class="wd-section wd-result hidden">

    <div class="wd-warning">
      <p id="warnText">
        この結果は複数の天気API比較に基づく参考情報です。公式情報も確認してください。
      </p>
    </div>

    <div class="wd-location-header">
      <div>
        <h2 id="locName">-</h2>
        <p id="locMeta">-</p>
        <p id="processTime" class="wd-process-time"></p>
      </div>
      <button id="btnReset" class="wd-btn reset">リセット</button>
    </div>

    <div class="wd-api-grid">

      <article class="wd-card">
        <h3 class="wd-card-title">Open-Meteo</h3>

        <div class="wd-weather-row">
          <div class="wd-weather-icon"><span id="omIconToday">☀️</span></div>
          <div class="wd-weather-info">
            <p id="omTodayTemp">今日: -</p>
            <p id="omTodayRain">降水: -</p>
            <p id="omTodayWind">風: -</p>
          </div>
        </div>

        <div class="wd-weather-row">
          <div class="wd-weather-icon"><span id="omIconTomorrow">☀️</span></div>
          <div class="wd-weather-info">
            <p id="omTomorrowTemp">明日: -</p>
            <p id="omTomorrowRain">降水: -</p>
            <p id="omTomorrowWind">風: -</p>
          </div>
        </div>
      </article>

      <article class="wd-card">
        <h3 class="wd-card-title">MET Norway</h3>

        <div class="wd-weather-row">
          <div class="wd-weather-icon"><span id="mnIconToday">☁️</span></div>
          <div class="wd-weather-info">
            <p id="mnTodayTemp">今日: -</p>
            <p id="mnTodayRain">降水: -</p>
            <p id="mnTodayWind">風: -</p>
          </div>
        </div>

        <div class="wd-weather-row">
          <div class="wd-weather-icon"><span id="mnIconTomorrow">☁️</span></div>
          <div class="wd-weather-info">
            <p id="mnTomorrowTemp">明日: -</p>
            <p id="mnTomorrowRain">降水: -</p>
            <p id="mnTomorrowWind">風: -</p>
          </div>
        </div>
      </article>

    </div>

    <!-- ================================
         ズレエリア
    ================================= -->
    <article class="wd-card wd-diff-card">
      <h3 class="wd-card-title" id="diffTitle">予報のズレ（比較結果）</h3>

      <div class="wd-diff-grid">

        <div class="wd-diff-day">
          <h4 id="diffTodayHeading">今日</h4>
          <p id="diffTodayMax"></p>
          <p id="diffTodayMin"></p>
          <p id="diffTodayRain"></p>
          <p id="diffTodayWind"></p>
        </div>

        <div class="wd-diff-day">
          <h4 id="diffTomorrowHeading">明日</h4>
          <p id="diffTomorrowMax"></p>
          <p id="diffTomorrowMin"></p>
          <p id="diffTomorrowRain"></p>
          <p id="diffTomorrowWind"></p>
        </div>

      </div>

      <!-- 信頼性注意文章（仕様通り追加） -->
      <p id="diffNote" class="wd-diff-note">
        ※ 気温（最高）以外のズレはデータ仕様上の制約があり信頼性が低い値です。
        <a href="/tools/weatherdiff/usage.html" target="_blank">詳しく見る</a>
      </p>

    </article>

    <section class="wd-section">
      <h3 class="wd-card-title" id="otherServicesTitle">他のサービスで詳しく見る</h3>

      <div class="wd-links-grid">
        <a href="https://www.google.com/search?q=weather" target="_blank">Google Weather</a>
        <a href="https://weather.com" target="_blank">Weather.com</a>
        <a href="https://www.accuweather.com" target="_blank">AccuWeather</a>
        <a href="https://www.jma.go.jp/bosai/forecast/" target="_blank">気象庁</a>
        <a href="https://tenki.jp" target="_blank">tenki.jp</a>
        <a href="https://weather.yahoo.co.jp/weather/" target="_blank">Yahoo天気</a>
      </div>
    </section>

  </section>

</main>

<footer class="wd-footer">

  <p class="wd-donate-msg">
    このツールが役に立ったら、寄付で応援していただけると嬉しいです。
  </p>

  <div class="wd-donate-buttons">
    <a class="wd-donate-btn" href="https://ofuse.me" target="_blank">🧡 OFUSE</a>
    <a class="wd-donate-btn" href="https://ko-fi.com" target="_blank">☕ Ko-fi</a>
  </div>

  <div class="wd-footer-links">
    <a href="/tools/manualfinder/">ManualFinder</a>
    <span>/</span>
    <a href="/tools/unitmaster/">UnitMaster</a>
    <span>/</span>
    <a href="/tools/logformatter/">LogFormatter</a>
  </div>

  <p class="wd-footer-copy">
    © 2025 <a href="https://nicheworks.pages.dev/">NicheWorks</a>
  </p>

</footer>

<script src="app.js"></script>
</body>
</html>
