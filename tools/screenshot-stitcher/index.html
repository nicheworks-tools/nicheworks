<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>スクショ縦結合 | Screenshot Stitcher | NicheWorks</title>
  <meta name="description" content="複数スクリーンショットを縦に結合。幅揃え、余白トリム、PNG/WebP/JPEG出力、分割ZIP出力に対応。ブラウザ内処理のみ。" />

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9879006623791275" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-57QT78M3JB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-57QT78M3JB');
  </script>

  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="nw-header">
    <div class="nw-header-inner">
      <div>
        <h1 data-i18n="title">スクショ縦結合</h1>
        <p class="lead" data-i18n="lead">画像を追加して縦に1枚化。ブラウザ内だけで処理し、外部送信しません。</p>
      </div>
      <div class="lang-switch" role="group" aria-label="language switch">
        <button type="button" data-lang="ja">JP</button>
        <button type="button" data-lang="en">EN</button>
      </div>
    </div>
  </header>

  <main class="nw-main">
    <div class="ad-slot ad-top">ad-top</div>

    <section class="donate" aria-label="donation links top">
      <p data-i18n="donateText">継続的な改善のため、任意でご支援いただけると助かります。</p>
      <div class="donate-links">
        <a href="https://ofuse.me/nicheworks" target="_blank" rel="noopener">OFUSE</a>
        <a href="https://ko-fi.com/nicheworks" target="_blank" rel="noopener">Ko-fi</a>
      </div>
    </section>

    <section class="tool-grid">
      <article class="card">
        <h2 data-i18n="inputTitle">1. 画像を追加</h2>
        <p class="muted" data-i18n="inputLead">ドラッグ&ドロップ / クリック選択 / ペースト（Ctrl/Cmd+V）に対応。</p>
        <label class="dropzone" id="dropzone">
          <input id="fileInput" type="file" accept="image/png,image/jpeg,image/webp" multiple />
          <strong data-i18n="dropLabel">ここに画像をドロップ</strong>
          <span data-i18n="dropSub">またはクリックして選択（PNG/JPEG/WebP）</span>
        </label>
        <div class="row spread compact">
          <small id="countLabel">0 items</small>
          <button type="button" class="btn ghost" id="clearBtn" data-i18n="clear">全削除</button>
        </div>
        <ul class="item-list" id="itemList"></ul>
      </article>

      <article class="card">
        <h2 data-i18n="settingTitle">2. 結合設定</h2>

        <label class="field">
          <span data-i18n="fitMode">幅揃えモード</span>
          <select id="fitMode">
            <option value="max" data-i18n="fitMax">最大幅に合わせる</option>
            <option value="custom" data-i18n="fitCustom">指定幅に合わせる</option>
            <option value="min" data-i18n="fitMin">最小幅に合わせる</option>
          </select>
        </label>

        <label class="field">
          <span data-i18n="customWidth">指定幅 (px)</span>
          <input id="customWidth" type="number" min="64" max="6000" value="1080" />
        </label>

        <label class="field check-line">
          <input id="trimEnabled" type="checkbox" />
          <span data-i18n="trimEnable">上下の単色余白を自動トリム</span>
        </label>

        <label class="field">
          <span data-i18n="trimThreshold">トリム閾値 (0-40)</span>
          <input id="trimThreshold" type="number" min="0" max="40" value="12" />
        </label>

        <label class="field">
          <span data-i18n="gap">画像間余白 (px)</span>
          <input id="gap" type="number" min="0" max="200" value="0" />
        </label>

        <label class="field">
          <span data-i18n="bg">背景</span>
          <select id="background">
            <option value="white" data-i18n="bgWhite">白</option>
            <option value="transparent" data-i18n="bgTransparent">透明</option>
          </select>
        </label>

        <div class="row two">
          <label class="field">
            <span data-i18n="format">出力形式</span>
            <select id="format">
              <option value="png">PNG</option>
              <option value="webp">WebP</option>
              <option value="jpeg">JPEG</option>
            </select>
          </label>
          <label class="field">
            <span data-i18n="quality">画質(0.1-1)</span>
            <input id="quality" type="number" min="0.1" max="1" step="0.1" value="0.92" />
          </label>
        </div>

        <label class="field">
          <span data-i18n="split">分割高さ (px / 0で分割なし)</span>
          <input id="splitHeight" type="number" min="0" max="50000" value="0" />
        </label>

        <div class="row compact">
          <button type="button" class="btn" id="previewBtn" data-i18n="preview">プレビュー生成</button>
          <button type="button" class="btn" id="downloadBtn" disabled data-i18n="download">ダウンロード</button>
          <button type="button" class="btn ghost" id="splitBtn" disabled data-i18n="splitExport">分割ZIP出力</button>
        </div>
        <p class="muted" data-i18n="localOnly">処理はブラウザ内のみ。画像データは外部送信しません。</p>
      </article>
    </section>

    <section class="card preview-card">
      <div class="row spread compact">
        <h2 data-i18n="previewTitle">3. プレビュー</h2>
        <span class="muted" id="previewMeta">-</span>
      </div>
      <canvas id="previewCanvas"></canvas>
      <p id="status" class="status">-</p>
    </section>

    <div class="ad-slot ad-bottom">ad-bottom</div>

    <section class="donate" aria-label="donation links bottom">
      <p data-i18n="donateText2">このツールが役立った場合は、次の改善のためのご支援をご検討ください。</p>
      <div class="donate-links">
        <a href="https://ofuse.me/nicheworks" target="_blank" rel="noopener">OFUSE</a>
        <a href="https://ko-fi.com/nicheworks" target="_blank" rel="noopener">Ko-fi</a>
      </div>
    </section>
  </main>

  <footer class="nw-footer">
    <p>© NicheWorks — Small Web Tools for Boring Tasks</p>
    <p data-i18n="disclaimer">本ツールの出力結果は必ず最終確認してください。</p>
    <p><a href="https://nicheworks.app" target="_blank" rel="noopener">nicheworks.app</a></p>
  </footer>

  <script src="./app.js"></script>
</body>
</html>
